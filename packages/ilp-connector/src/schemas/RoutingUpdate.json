{
  "$schema": "http://json-schema.org/draft-06/schema",
  "id": "RoutingUpdate.json",
  "title": "RoutingUpdate",
  "description": "A routing update object",
  "type": "object",
  "properties": {
    "speaker": {
      "description": "ILP address of the connector that sent this route update",
      "type": "string"
    },
    "routing_table_id": {
      "description": "Routing table identifier which is changed every time the connector resets its epoch.",
      "type": "string"
    },
    "hold_down_time": {
      "description": "Time in milliseconds for which the sending connector claims its routes to be fresh, without another heartbeat",
      "type": "integer",
      "minimum": 1
    },
    "from_epoch": {
      "description": "First epoch index covered by this update",
      "type": "integer",
      "minimum": 0
    },
    "to_epoch": {
      "description": "Last epoch index covered by this update",
      "type": "integer",
      "minimum": 0
    },
    "new_routes": {
      "description": "A list of Routes that have been added to the sending connector's table since the last update it has sent you.  May replace previously broadcast routes.",
      "$ref": "Routes.json"
    },
    "withdrawn_routes": {
      "description": "A list of prefixes that have become unreachable through the sending connector",
      "type": "array",
      "minItems": 0,
      "items": {
        "$ref": "IlpAddress.json"
      }
    }
  },
  "required": [
    "speaker",
    "routing_table_id",
    "hold_down_time",
    "from_epoch",
    "to_epoch",
    "new_routes",
    "withdrawn_routes"
  ],
  "additionalProperties": false
}
